<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miss√µes Espaciais - Jogo de Recupera√ß√£o</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0f0f23, #1a1a3e, #2d1b69);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .container {
            position: relative;
            z-index: 10;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .screen {
            display: none;
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            padding: 40px;
            border-radius: 20px;
            border: 2px solid #4a90e2;
            box-shadow: 0 0 30px rgba(74, 144, 226, 0.3);
        }

        .screen.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .rocket {
            font-size: 60px;
            margin-bottom: 20px;
            animation: float 2s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        h1 {
            color: #4a90e2;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(74, 144, 226, 0.5);
        }

        .input-group {
            margin: 20px 0;
            text-align: left;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #ccc;
        }

        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #4a90e2;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            font-size: 16px;
        }

        input:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(74, 144, 226, 0.5);
        }

        .motivational-quote {
            font-style: italic;
            color: #ffd700;
            margin: 20px 0;
            font-size: 18px;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.3);
        }

        .btn {
            background: linear-gradient(45deg, #4a90e2, #357abd);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .mission-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .mission-card {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #4a90e2;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .mission-card:hover {
            border-color: #ffd700;
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .mission-card h3 {
            color: #4a90e2;
            margin-bottom: 10px;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .score {
            background: rgba(255, 215, 0, 0.2);
            padding: 10px 20px;
            border-radius: 20px;
            border: 2px solid #ffd700;
        }

        .challenge-info {
            text-align: left;
            margin-bottom: 30px;
        }

        .hint {
            background: rgba(74, 144, 226, 0.2);
            border-left: 4px solid #4a90e2;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .answer-input {
            margin: 20px 0;
        }

        .feedback {
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: bold;
        }

        .correct {
            background: rgba(0, 255, 0, 0.2);
            border: 2px solid #00ff00;
            color: #00ff00;
        }

        .incorrect {
            background: rgba(255, 0, 0, 0.2);
            border: 2px solid #ff0000;
            color: #ff0000;
        }

        .certificate {
            background: linear-gradient(135deg, #ffd700, #ffed4a);
            color: #333;
            border-radius: 20px;
            padding: 40px;
            margin: 20px 0;
            border: 5px solid #d4af37;
        }

        .certificate h2 {
            color: #8b4513;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(45deg, #4a90e2, #357abd);
            transition: width 0.5s ease;
        }

        .planet {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
        }

        .planet1 {
            width: 100px;
            height: 100px;
            background: #ff6b6b;
            top: 10%;
            right: 10%;
            animation: orbit 20s linear infinite;
        }

        .planet2 {
            width: 60px;
            height: 60px;
            background: #4ecdc4;
            bottom: 20%;
            left: 5%;
            animation: orbit 15s linear infinite reverse;
        }

        @keyframes orbit {
            from { transform: rotate(0deg) translateX(50px) rotate(0deg); }
            to { transform: rotate(360deg) translateX(50px) rotate(-360deg); }
        }

        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }
            
            .game-header {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    <div class="planet planet1"></div>
    <div class="planet planet2"></div>

    <div class="container">
        <!-- Tela Inicial -->
        <div class="screen active" id="startScreen">
            <div class="rocket">üöÄ</div>
            <h1>Miss√µes Espaciais</h1>
            <p class="motivational-quote">"Cada desafio √© uma fase. Cada resposta, uma chave para dominar o territ√≥rio. Pronto para jogar?"</p>
            
            <div class="input-group">
                <label for="playerName">Nome do Agente:</label>
                <input type="text" id="playerName" placeholder="Digite seu nome">
            </div>
            
            <div class="input-group">
                <label for="playerCPF">CPF:</label>
                <input type="text" id="playerCPF" placeholder="Digite seu CPF">
            </div>
            
            <button class="btn" onclick="startGame()">Iniciar Miss√£o</button>
        </div>

        <!-- Sele√ß√£o de Miss√µes -->
        <div class="screen" id="missionSelect">
            <h1>Selecione sua Miss√£o</h1>
            <div class="mission-grid">
                <div class="mission-card" onclick="selectMission(0)">
                    <div style="color: #ffd700; font-weight: bold; margin-bottom: 10px;">V√≠deo 1</div>
                    <h3>üåç Miss√£o - Mundo Over</h3>
                    <p>3 Desafios</p>
                    <p>Explore os conceitos fundamentais</p>
                </div>
                <div class="mission-card" onclick="selectMission(1)">
                    <div style="color: #ffd700; font-weight: bold; margin-bottom: 10px;">V√≠deo 2</div>
                    <h3>üåå Universo da Recupera√ß√£o</h3>
                    <p>5 Desafios</p>
                    <p>Domine as fases do atraso</p>
                </div>
                <div class="mission-card" onclick="selectMission(2)">
                    <div style="color: #ffd700; font-weight: bold; margin-bottom: 10px;">V√≠deo 3</div>
                    <h3>üë®‚ÄçüöÄ Agente do Mundo Quebra</h3>
                    <p>4 Desafios</p>
                    <p>Torne-se um especialista</p>
                </div>
            </div>
        </div>

        <!-- Jogo -->
        <div class="screen" id="gameScreen">
            <div class="game-header">
                <h2 id="missionTitle"></h2>
                <div class="score">
                    Pontos: <span id="score">0</span>
                </div>
            </div>
            
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            
            <div class="challenge-info">
                <h3 id="challengeTitle"></h3>
                <div id="hintsContainer"></div>
            </div>
            
            <div class="answer-input">
                <input type="text" id="answerInput" placeholder="Digite sua resposta">
                <button class="btn" onclick="submitAnswer()">Enviar Resposta</button>
                <button class="btn" id="hintBtn" onclick="requestHint()" style="background: linear-gradient(45deg, #ffd700, #ffed4a); color: #333;">üí° Solicitar Pista</button>
            </div>
            
            <div id="feedback"></div>
            
            <button class="btn" id="nextBtn" onclick="nextChallenge()" style="display: none;">Pr√≥ximo Desafio</button>
        </div>

        <!-- Resultado Final -->
        <div class="screen" id="resultScreen">
            <h1>Miss√£o Conclu√≠da!</h1>
            <div id="finalScore"></div>
            
            <div class="certificate">
                <h2>üèÜ CERTIFICADO DE CONCLUS√ÉO üèÜ</h2>
                <p>Certificamos que</p>
                <h3 id="certificateName"></h3>
                <p>completou com sucesso as</p>
                <h3>MISS√ïES ESPACIAIS</h3>
                <p>demonstrando conhecimento em recupera√ß√£o financeira</p>
                <p id="certificateDate"></p>
            </div>
            
            <button class="btn" onclick="restartGame()">Nova Miss√£o</button>
        </div>
    </div>

    <script>
        // Dados do jogo
        const missions = [
            {
                name: "üåç Miss√£o - Mundo Over",
                challenges: [
                    {
                        title: "Desafio 1: Qual √© o conceito?",
                        hints: [
                            "Sou como uma sala de cirurgia no mundo da recupera√ß√£o financeira.",
                            "Neg√≥cio produtos com mais de 90 dias de atraso ‚Äî mas posso agir antes disso tamb√©m.",
                            "Quando entro em a√ß√£o, os limites s√£o cancelados e o foco √© total na recupera√ß√£o."
                        ],
                        answer: "mundo over"
                    },
                    {
                        title: "Desafio 2: Que tipo de migra√ß√£o √© essa?",
                        hints: [
                            "Sou uma estrat√©gia que permite agir antes dos 90 dias de atraso.",
                            "Posso ser aplicada a cart√µes, contas correntes e empr√©stimos sem garantia.",
                            "Trago benef√≠cios como menores taxas, mas cancelo limites."
                        ],
                        answer: "antecipa√ß√£o"
                    },
                    {
                        title: "Desafio 3: Qual √© a diferen√ßa?",
                        hints: [
                            "Sou comparado a um check-up m√©dico.",
                            "Atuo at√© os 89 dias de atraso, mantendo o relacionamento com o cliente.",
                            "Sou o est√°gio anterior ao tratamento intensivo."
                        ],
                        answer: "origem"
                    }
                ]
            },
            {
                name: "üåå Universo da Recupera√ß√£o",
                challenges: [
                    {
                        title: "Desafio 1: Qual √© a fase do atraso?",
                        hints: [
                            "O cliente atrasou, mas o acordo ainda est√° ativo.",
                            "Minha miss√£o √© cobrar a parcela e manter o acordo vivo.",
                            "Atuo entre 01 e 41 dias de atraso."
                        ],
                        answer: "pr√©-quebra"
                    },
                    {
                        title: "Desafio 2: Qual √© a fase do atraso?",
                        hints: [
                            "O atraso j√° impactou o banco, mas ainda d√° para salvar o acordo.",
                            "Minha miss√£o √© evitar que o cliente perca os benef√≠cios.",
                            "Atuo entre 42 e 89 dias de atraso."
                        ],
                        answer: "quebra autom√°tica"
                    },
                    {
                        title: "Desafio 3: Qual √© a fase do atraso?",
                        hints: [
                            "O sistema j√° encerrou o acordo por falta de pagamento.",
                            "Minha miss√£o √© criar um novo acordo com base na situa√ß√£o atual do cliente.",
                            "Atuo em casos com 90+ dias de atraso."
                        ],
                        answer: "quebra sist√™mica"
                    },
                    {
                        title: "Desafio 4: Qual √© a fase do atraso?",
                        hints: [
                            "O cliente n√£o consegue mais pagar o acordo atual.",
                            "Minha miss√£o √© interromper o acordo e criar um novo no mesmo dia.",
                            "N√£o tenho prazo definido."
                        ],
                        answer: "interrup√ß√£o manual"
                    },
                    {
                        title: "Desafio 5: Qual √© o conceito?",
                        hints: [
                            "Sou como um c√≥digo secreto no universo da recupera√ß√£o.",
                            "Registro o compromisso do cliente de pagar a parcela em atraso dentro do prazo permitido.",
                            "Meu prazo √© chamado de D+1 dia √∫til."
                        ],
                        answer: "promessa de pagamento"
                    }
                ]
            },
            {
                name: "üë®‚ÄçüöÄ Agente do Mundo Quebra",
                challenges: [
                    {
                        title: "Desafio 1 ‚Äì O In√≠cio da Investiga√ß√£o",
                        hints: [
                            "Voc√™ age como um detetive de negocia√ß√µes.",
                            "Verifica se h√° recadastro, fila de atua√ß√£o ou comunicado de oferta.",
                            "Se a conta estiver cancelada ou bloqueada, a proposta muda de formato."
                        ],
                        answer: "verifica√ß√£o inicial"
                    },
                    {
                        title: "Desafio 2 ‚Äì O Raio-X do Acordo",
                        hints: [
                            "Voc√™ analisa o canal de contrata√ß√£o e a forma de pagamento.",
                            "Avalia quantas parcelas foram pagas e o valor negociado.",
                            "Usa essas informa√ß√µes para adaptar a abordagem ao cliente."
                        ],
                        answer: "consulta do acordo vigente"
                    },
                    {
                        title: "Desafio 3 ‚Äì O Retorno ao Mundo Over",
                        hints: [
                            "O cliente est√° na base de recadastro.",
                            "O acordo anterior √© cancelado e um novo √© criado.",
                            "As novas condi√ß√µes n√£o podem ser mais vantajosas que as anteriores."
                        ],
                        answer: "recadastro de acordo"
                    },
                    {
                        title: "Desafio 4 ‚Äì O C√≥digo da Al√ßada",
                        hints: [
                            "A entrada √© obrigat√≥ria, exceto em campanhas.",
                            "O cliente tem at√© D+9 dias corridos para pagar a entrada.",
                            "Entre a entrada e a 1¬™ parcela, deve haver pelo menos 16 dias corridos."
                        ],
                        answer: "al√ßada de pagamento para recadastro"
                    }
                ]
            }
        ];

        // Vari√°veis do jogo
        let playerName = '';
        let playerCPF = '';
        let currentMission = 0;
        let currentChallenge = 0;
        let currentHints = 0;
        let totalScore = 0;
        let challengesCompleted = 0;

        // Inicializar estrelas
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = star.style.height = Math.random() * 3 + 1 + 'px';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        // Iniciar jogo
        function startGame() {
            playerName = document.getElementById('playerName').value.trim();
            playerCPF = document.getElementById('playerCPF').value.trim();
            
            if (!playerName || !playerCPF) {
                alert('Por favor, preencha todos os campos!');
                return;
            }
            
            showScreen('missionSelect');
        }

        // Selecionar miss√£o
        function selectMission(missionIndex) {
            currentMission = missionIndex;
            currentChallenge = 0;
            currentHints = 0;
            challengesCompleted = 0;
            
            document.getElementById('missionTitle').textContent = missions[currentMission].name;
            loadChallenge();
            showScreen('gameScreen');
        }

        // Carregar desafio
        function loadChallenge() {
            const challenge = missions[currentMission].challenges[currentChallenge];
            const totalChallenges = missions[currentMission].challenges.length;
            
            document.getElementById('challengeTitle').textContent = challenge.title;
            document.getElementById('hintsContainer').innerHTML = '';
            document.getElementById('answerInput').value = '';
            document.getElementById('feedback').innerHTML = '';
            document.getElementById('nextBtn').style.display = 'none';
            
            currentHints = 0;
            showNextHint();
            updateHintButton();
            
            // Atualizar barra de progresso
            const progress = ((challengesCompleted) / totalChallenges) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        // Mostrar pr√≥xima dica
        function showNextHint() {
            if (currentHints < 3) {
                const challenge = missions[currentMission].challenges[currentChallenge];
                const hintsContainer = document.getElementById('hintsContainer');
                
                const hintElement = document.createElement('div');
                hintElement.className = 'hint';
                hintElement.innerHTML = `<strong>Pista ${currentHints + 1}:</strong> ${challenge.hints[currentHints]}`;
                hintsContainer.appendChild(hintElement);
                
                currentHints++;
                updateHintButton();
            }
        }

        // Atualizar bot√£o de pistas
        function updateHintButton() {
            const hintBtn = document.getElementById('hintBtn');
            if (currentHints >= 3) {
                hintBtn.style.display = 'none';
            } else {
                hintBtn.style.display = 'inline-block';
                hintBtn.textContent = `üí° Solicitar Pista (${3 - currentHints} restantes)`;
            }
        }

        // Solicitar pista manual
        function requestHint() {
            if (currentHints < 3) {
                showNextHint();
            }
        }

        // Enviar resposta
        function submitAnswer() {
            const userAnswer = document.getElementById('answerInput').value.trim().toLowerCase();
            const correctAnswer = missions[currentMission].challenges[currentChallenge].answer.toLowerCase();
            const feedbackElement = document.getElementById('feedback');
            
            if (!userAnswer) {
                alert('Por favor, digite uma resposta!');
                return;
            }
            
            // Verificar se a resposta cont√©m palavras-chave da resposta correta
            const correctWords = correctAnswer.split(' ');
            const userWords = userAnswer.split(' ');
            const matches = correctWords.filter(word => 
                userWords.some(userWord => 
                    userWord.includes(word) || word.includes(userWord)
                )
            );
            
            const isCorrect = matches.length >= Math.ceil(correctWords.length * 0.7); // 70% das palavras devem corresponder
            
            if (isCorrect) {
                // Resposta correta
                let points = 0;
                if (currentHints === 1) points = 10;
                else if (currentHints === 2) points = 5;
                else if (currentHints === 3) points = 3;
                
                totalScore += points;
                challengesCompleted++;
                
                feedbackElement.innerHTML = `
                    <div class="feedback correct">
                        üéâ Correto! Voc√™ ganhou ${points} pontos!
                        <br>Resposta: ${missions[currentMission].challenges[currentChallenge].answer}
                    </div>
                `;
                
                document.getElementById('score').textContent = totalScore;
                document.getElementById('nextBtn').style.display = 'inline-block';
                document.getElementById('hintBtn').style.display = 'none';
                
            } else {
                // Resposta incorreta
                feedbackElement.innerHTML = `
                    <div class="feedback incorrect">
                        ‚ùå Resposta incorreta. ${currentHints < 3 ? 'Voc√™ pode solicitar mais pistas ou tentar novamente!' : 'A resposta correta era: ' + missions[currentMission].challenges[currentChallenge].answer}
                    </div>
                `;
                
                if (currentHints >= 3) {
                    challengesCompleted++;
                    document.getElementById('nextBtn').style.display = 'inline-block';
                    document.getElementById('hintBtn').style.display = 'none';
                }
            }
        }

        // Pr√≥ximo desafio
        function nextChallenge() {
            currentChallenge++;
            
            if (currentChallenge < missions[currentMission].challenges.length) {
                loadChallenge();
            } else {
                showResults();
            }
        }

        // Mostrar resultados
        function showResults() {
            const totalChallenges = missions[currentMission].challenges.length;
            const maxScore = totalChallenges * 10;
            const percentage = Math.round((totalScore / maxScore) * 100);
            
            document.getElementById('finalScore').innerHTML = `
                <h2>Sua Pontua√ß√£o: ${totalScore} pontos</h2>
                <p>Desempenho: ${percentage}%</p>
            `;
            
            document.getElementById('certificateName').textContent = playerName;
            document.getElementById('certificateDate').textContent = new Date().toLocaleDateString('pt-BR');
            
            showScreen('resultScreen');
        }

        // Reiniciar jogo
        function restartGame() {
            totalScore = 0;
            currentChallenge = 0;
            currentHints = 0;
            challengesCompleted = 0;
            document.getElementById('score').textContent = '0';
            showScreen('missionSelect');
        }

        // Mostrar tela
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        // Event listener para Enter
        document.getElementById('answerInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                submitAnswer();
            }
        });

        // Inicializar
        createStars();
    </script>
</body>
</html>
